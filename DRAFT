//Elephant Caretaker
//Simulates caring for a virtual pet
//Author is Moses Arocha

#include <iostream>
#include <windows.h>
#include <string>
#include <algorithm>
#include <stdio.h>
#include <ctype.h>
#include <vector>
#include <cstdlib>
#include <ctime>
#include<fstream>

using namespace std;

//returns the current attributes
WORD GetConsoleTextAttribute (HANDLE hCon)
{
  CONSOLE_SCREEN_BUFFER_INFO con_info;
  GetConsoleScreenBufferInfo(hCon, &con_info);
  return con_info.wAttributes;
}

HANDLE hConsole = GetStdHandle(STD_OUTPUT_HANDLE);
const int saved_colors = GetConsoleTextAttribute(hConsole);

class Elephant
{
public:
	Elephant(int hunger, int boredom, int health, int stress, int sleep, int intelligence);
	void Story(int Random, string RandomWeather);
	void Eat(int food = 20);
	void Interact(int fun = 20);
	void Speak(int Random);
	void Sleep();
	void Train();
	string Weather(string RandomWeather, int Weather);

private:
	int m_Hunger;
	int m_Boredom;
	int m_Health;
	int m_Stress;
	int m_Sleep;
	int m_Intelligence;

	int GetMood(int Random = 6);
	void PassTime(int time = 1);
};

Elephant::Elephant(int hunger, int boredom, int health, int stress, int sleep, int intelligence):
	m_Hunger(hunger),
	m_Boredom(boredom),
	m_Health(health),
	m_Stress(stress),
	m_Sleep(sleep),
	m_Intelligence(intelligence)
{}

 int Elephant::GetMood(int Random)
{
	srand(static_cast<unsigned int>(time(0)));  //seed random number generator

	 Random = rand() % 20 + 1;         // random number between 1 and 10
	
	 return (Random);
}

void Elephant::PassTime(int time)
{
	m_Hunger += time;
	m_Boredom += time;
	m_Stress += time;
	m_Sleep += time;
}

string Elephant::Weather(string RandomWeather, int Weather)
{
	srand(static_cast<unsigned int>(time(0)));  //seed random number generator

	 Weather = rand() % 5 + 1;         // random number between 1 and 10

	 if (Weather == 1)
	 {
		 RandomWeather = "Cloudy";
	 }
	 else if (Weather == 2)
	 {
		 RandomWeather = "Sunny";
	 }
	 else if (Weather == 3)
	 {
		 RandomWeather = "Snowy";
	 }
	 else if (Weather == 4)
	 {
		 RandomWeather = "Rainy";
	 }
	 else if (Weather == 5)
	 {
		 RandomWeather = "Windy";
	 }

	 return (RandomWeather);
}

void Elephant::Story(int Random, string RandomWeather)
{
	string Continue;
	string Walk;
	int mood = GetMood(Random);

	if (mood > 15)
	{
        cout << "Angry.\n";
	}
    else if (mood > 10)
	{
        cout << "Tired.\n";
	}
    else if (mood > 5)
	{
        cout << "Stressed.\n";
	}
    else
	{
        cout << "Depressed.\n";
	}
		
	Sleep(150);
	cout << " Hello! I Am The Former Care Taker Of The Elephants At The Safari.\n"
		 << " Good Luck. They Are A Hassle. Everyday They Need Two Baths,\n"
		 << " To Be Feed 35 Pounds Of Found Each, And 9 Hours Of Sleep.\n"
		 << " I Hope You Are Up For The Challenge. \n\tDo You Want To Continue? [Y/N]";
	
	getline(cin, Continue);

	cout << "\n\n Well Anyways, The Game Will Continue! Hurry!\n";

	Sleep(150);
	cout << "\n Here! Take This! It's A Tranquilizer. Approach Charlize Slowly!\n"
		 << " She Seems Very " << mood << "\n\t Oh No! Shoot Her With It Already!\n"
		 << "\t Press Enter To Shoot Charlize.\n";
	
	cin.ignore();
	cin.get();

	cout << "\n Okay Great. She Is Safe Now, Please Pet Her.\n"
		<< "\t Press Enter To Pet Charlize.\n";
	cin.ignore();
	cin.get();

	PassTime();

	Sleep(150);
	cout << "\n Amazing. Sounds Like She Is Happy, Take Her For A Walk.\n"
		 << "\n As You Take Charlize For A Walk, She Gets Scared.\n"
		 << "\n A Mouse Was On The Road. She Ran Away, Chase Her!\n";
	

	for (int i = 0; i < 3; ++i)
		{
		cin.ignore();
		cin.get();
		}

	cout << "\n Oh Thank Goodness, You Caught Her! Please, Walk Her Back.\n"
		 << "\n As You Walked Her Back To The Zoo, She Gets Tired.\n"
		 << "\n She Decides To Sit Down. Please, Take Her Back To The Zoo Now.\n";
	cout << " Please Type Walk To Back To The Zoo. ";
	cin >> Walk;

	PassTime();

	cout << " As You Enter The Zoo, She Begins To Speak To You.\n";
	Sleep(150);
	cout << " 'Hey, I'm Charlize.' - Charlize The Elephant\n"
		 << " Scared You Run Away And Never Come Back.\n\n";
	Sleep(150);
	cout << " To This Day You Wonder What Ever Happend To Charlize.\n"
		 << " Today Is The Day You Are Going To Visit Her, After 15 Years.\n"
		 << " Nervous, You Stumble Through The Zoo Towards Her Cage.\n"
		 << " It's Not The Same As You Remember, You Wish You Hadn't Left.\n"
		 << " As You Walk To Her Cage, She Instantly Recongizes You.\n"
		 << " As She Strolls Towards You A Smile Spreads Across Your Face,\n"
		 << " You Waited Years For This To Happen, You Have Missed Her...\n";
	cout << "\n\n Press Enter To Continue...";
	Sleep(150);

	cin.ignore();
	cin.get();

	PassTime();


}

void Elephant::Eat(int food)
{
	char Feed;

	m_Hunger -= food;
	cout << "\n As You Walk Over To Charlize, She Seems Hungry. So You Give Her Some Food.\n"
		 << " She Thanks You By Letting You Touch Her Trunk.\n"
		 << " Would You Like To Feed Her Again? [Y/N] ";
	cin >> Feed;

	Feed = toupper(Feed);

	if (Feed == 'Y')
	{
		cout << " Great Charlize Has Been Fed! She Loves You More Now.\n";
		m_Hunger -= food;
	}
	else
	{
		cout << " She Gave You A Dirty Look. This Is Not A Good Sign.\n";
	}

	PassTime();


}

void Elephant::Speak(int Random)
{
	int mood = GetMood(Random);
	string discuss;

	if (mood > 15)
	{
        cout << "Frustrated.\n";
	}
    else if (mood > 10)
	{
        cout << "Happy.\n";
	}
    else if (mood > 5)
	{
        cout << "Well.\n";
	}
    else
	{
        cout << "Fulfilled.\n";
	}

	cout << " I Am Charlize, I Have A Great Life! ";
	cout << " I Am Very " << mood;
	cout << " Thankfully, I Have A Caring CareTaker, Who Always Talks To Me.\n";
	cout << " What Do You Want To Talk About?? Oh, How About Peanuts!\n";
	cout << " Please Insert What You Would Like To Discuss: ";
	getline(cin, discuss);

	if (discuss.length() < 5)
	{
		cout << " I Would Love To Talk About That!\n";
	}
	else
	{
		cout << " Ehh, Alright I Guess. K.\n";
	}

	cout << "Well I Have To Leave Now, So Goodbye!\n\n";

	PassTime();

}

void Elephant::Interact(int fun)
{
	string game;

	cout << " Yay! Let's Play A Game!\n\n";

	m_Boredom -=fun;
	if (m_Boredom < 0)
	{
		m_boredom = 0;
	}

	cout << " Oooh, What Game Would You Like To Play!?!\n"
		 << " Choose A Game You Would Like To Play: Hide And Seek or Fetch \n";
	getline (cin, game);

	if (game.length() < 4)
	{
		cout << " Yes! Let's Play!" << endl;
	}
	else
	{
		cout << " Oh My Gosh Yes! Let's Play!" << endl;
	}

	PassTime();

}

void Elephant::Sleep()
{
	PassTime();
	int hours;

	cout << " It Seems That Charlize Has Fallen Asleep.\n"
		 << " In Order For The Game To Continue, She Must Sleep.\n"
		 << " Press Enter For Her To Sleep Safely.\n";

	for (int i = 0; i < 16; ++i)
		{
		++hours;
		cin.ignore();
		cin.get();
		cout << "\t" << hours <<" Hours Has Gone By...\n";
		}

	cout << " Amazingly, She Has Awoken! Great!\n";
	cout << " Everyday, She Needs 16 Hours Of Sleep, So Make Sure You Come Back!\n";
	cout << " If You Don't She Will Cry And Run Away!\n";

	PassTime();
}

void Elephant::Train()
{
	vector<string> Tricks;
	vector<string> Words;

	string choice;
	string trick;
	string word;

	cout << " What Would You Like To Teach Charlize? [Tricks Or Words]\n\t";
	getline(cin, choice);

	if (choice.length < 4)
	{
		cout << " Please Enter A Trick You Would Like To Teach Charlize:\n\t";
		getline(cin, trick);

		Tricks.push_back(trick);
	}
	else
	{
		cout << " Please Enter A Word You Would Like To Teach Charlize:\n\t";
		getline(cin, word);

		Words.push_back(word);
	}

	
}
